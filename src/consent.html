<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>微信登录授权</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      padding: 40px 30px;
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    
    .icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 24px;
      background: linear-gradient(135deg, #09bb07 0%, #07c160 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
    }
    
    h1 {
      font-size: 24px;
      color: #333;
      margin-bottom: 12px;
      font-weight: 600;
    }
    
    .description {
      color: #666;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 32px;
    }
    
    .btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #09bb07 0%, #07c160 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(7, 193, 96, 0.3);
    }
    
    .btn:active {
      transform: scale(0.98);
      box-shadow: 0 2px 8px rgba(7, 193, 96, 0.3);
    }
    
    .footer {
      margin-top: 24px;
      font-size: 12px;
      color: #999;
    }
    
    .loading {
      display: none;
      margin-top: 16px;
      color: #666;
      font-size: 14px;
    }
    
    .loading.show {
      display: block;
    }
    
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid #f3f3f3;
      border-top: 2px solid #07c160;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 8px;
      vertical-align: middle;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="icon">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="white">
        <path d="M8.5 3C5.46 3 3 5.46 3 8.5c0 2.25 1.37 4.19 3.32 5.03-.44 1.63-1.43 3.12-1.43 3.12s2.87-.19 4.69-1.56c.6.13 1.23.2 1.92.2 3.04 0 5.5-2.46 5.5-5.5S11.54 3 8.5 3zm8.5 5c0-.17-.01-.34-.02-.5 2.42.48 4.27 2.6 4.27 5.13 0 1.69-.82 3.2-2.09 4.15.35 1.02.9 1.97.9 1.97s-1.81-.12-2.96-.98c-.38.08-.77.13-1.21.13-1.55 0-2.94-.66-3.91-1.71 2.87-.24 5.14-2.63 5.14-5.56 0-.88-.18-1.72-.5-2.48-.38-.03-.76-.05-1.15-.05-.15 0-.3.01-.45.02z"/>
      </svg>
    </div>
    
    <h1>微信登录授权</h1>
    <p class="description">
      为了获取您的微信头像和昵称等信息，需要您授权使用微信登录。点击下方按钮继续。
    </p>
    
    <button class="btn" onclick="authorize()">
      使用微信登录
    </button>
    
    <div class="loading" id="loading">
      <span class="spinner"></span>
      正在跳转到微信授权页面...
    </div>
    
    <div class="footer">
      安全登录 · 保护您的隐私
    </div>
  </div>
  
  <script>
    function authorize() {
      const btn = document.querySelector('.btn');
      const loading = document.getElementById('loading');
      
      btn.disabled = true;
      btn.style.opacity = '0.6';
      loading.classList.add('show');
      
      // 从 URL 参数中获取授权信息
      const params = new URLSearchParams(window.location.search);
      const continueUrl = params.get('continue');
      
      if (continueUrl) {
        // 跳转到实际的微信授权 URL
        window.location.href = decodeURIComponent(continueUrl);
      } else {
        alert('授权参数错误，请重试');
        btn.disabled = false;
        btn.style.opacity = '1';
        loading.classList.remove('show');
      }
    }
  </script>
</body>
</html>
